<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>reveal.js - The HTML Presentation Framework</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
		<script src="bower_components/jquery/dist/jquery.min.js"></script>
		<style>
			em {
				font-style: normal !important;
				color: #99F;
				font-weight: bold !important;
			}
		</style>
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>Typescript</h1>
					<h2>L'introduction gentille</h2>
					<p>
						<small>Hacking Mondays <br><a href="https://twitter.com/paloaltours">@PALOALTOURS</a></small>
					</p>
				</section>

				<section>
					<section>
						<h2>Un survol</h2>
					</section>

					<section>
						<h4>Ça ressemble à du javascript</h4>
					<pre><code class="javascript" data-trim contenteditable style="font-size: 18px;" external-src="samples/js_ts_example_1.ts">
					</code></pre>
					</section>

					<section>
						<h4>Avec du typage</h4>
					<pre><code class="javascript" data-trim contenteditable style="font-size: 18px;" external-src="samples/js_ts_example_2.ts">
					</code></pre>
					</section>

					<section>
						<h4>Et des classes</h4>
					<pre><code class="javascript" data-trim contenteditable style="font-size: 18px;" external-src="samples/js_ts_example_3.ts">
					</code></pre>
					</section>

					<section>
						<h4>Et des trucs en plus</h4>
					<pre><code class="javascript" data-trim contenteditable style="font-size: 18px;" external-src="samples/js_ts_example_4.ts">
					</code></pre>
					</section>

					<section>
						<h4>Jusqu'à ne plus beaucoup ressembler à du javascript</h4>
					<pre><code class="javascript" data-trim contenteditable style="font-size: 18px; overflow: visible;" external-src="samples/js_ts_example_5.ts">
					</code></pre>
					</section>

				</section>

				<section>
					<h2>Historique</h2>
					<ul>
						<li><em>Anders Hejlsberg</em><br> TurboPascal, Delphi, Microsoft J++, C#, Typescript</li>
						<li><em>0.8</em> [oct. 2012] 1ère sortie publique</li>
						<li><em>1.0</em> [avril 2014] acceptent les pull requests</li>
						<li><em>Github</em> [juillet 2014] bye bye Codeplex</li>
						<li><em>Roadmap</em> [oct 2014] enfin une roadmap !</li>
						<li><em>Angular 2</em> [mars 2015] le mariage avec le top-model</li>
					</ul>
				</section>

				<section>
					<h2>Design goals</h2>
					<ul>
						<li>Extension <em>stricte</em> du langage JS</li>
						<li>Alignement sur  ES6/ES7</li>
						<li>Transpilations cibles ES3, ES5, ES6</li>
						<li>Émission de Javascript propre et lisible par un humain</li>
					</ul>
				</section>

				<section>
					<section>
						<h2>Pros &amp; Cons</h2>
					</section>
					<section>
						<h3>Bénéfices</h3>
						<ul>
							<li><em>Typage fort</em> (vérifications du compilateur, completion, refactoring)</li>
							<li><em>Fonctionnalités ES6</em> transpilées vers ES3/ES5</li>
							<li>Open-source, évolution ouverte, roadmap, traction</li>
							<li>Une spécification <em>à jour</em></li>
						</ul>
					</section>
					<section>
						<h2>Inconvénients</h2>
						<ul>
							<li>Étape de compilation supplémentaire</li>
							<li>Support de ES6 parcellaire</li>
							<li>Documentation pas à jour</li>
						</ul>
					</section>
				</section>

				<section>

					<section>
						<h2>Typage</h2>
						<h4>Sophistiqué mais optionnel</h4>
						<ul>
							<li>boolean, number, string, Array&lt;T>, Enum, Function, Object, tuples, any, void</li>
							<li>+ les classes créées</li>
							<li>Syntaxe postfixée <em>NOM:TYPE</em></li>
							<li>Tous les types sont effacés à la compilation</li>
						</ul>
					</section>

					<section>
						<h2>Syntaxe du typage</h2>
					<pre><code class="javascript" data-trim contenteditable style="font-size: 18px; overflow: visible;">
var name: string;
var x:number = 1;
var tab: string[] = ["hello", "world"];

function concat(i: number, o: any) : string {
	return i.toString() + o;
}
function add(i: number, b?: number) : number {
	return i + (b||0);
}
var myTuple: [string,string,number] = ["John", "Doe", 1983];
					</code></pre>
					</section>

					<section>
						<h2>Typage implicite</h2>
					<pre><code class="javascript" data-trim contenteditable style="font-size: 18px; overflow: visible;">
var name;
var x = 1;
var tab = ["hello", "world"];

name = "Hello"; // ok
name = 3;       // ok

x = 5;    		// ok
x = "cinq"; 	// KO

tab = ["un", "deux"];  // ok
tab = "trois"          // KO
					</code></pre>
					<p>Le type peut être déduit à la compilation</p>
					</section>


					<section>
						<h2>Effacement du type</h2>
						<ul>
							<li>Après la compilation, retour au javascript</li>
							<li>Pas de polymorphisme</li>
							<li>Recours au typeof / instanceof</li>
						</ul>
					</section>

					<section>
						<h4>Union de types</h4>
					<pre><code class="javascript" data-trim contenteditable style="font-size: 18px; overflow: visible;">
function display(data: string|number) {
	console.log("data: ", data);
}

function read(value:number|string): Date|number {
	if (typeof value == "number") {
		return value;
	}
	return new Date(value);
}
					</code></pre>
					<h4>Transtypage</h4>
					<pre><code class="javascript" data-trim contenteditable style="font-size: 18px; overflow: visible;">
var value: string|number = 45;
var test = &lt;string>value;
					</code></pre>
					</section>

					<section>
						<h2>any</h2>
					<pre><code class="javascript" data-trim contenteditable style="font-size: 18px; overflow: visible;">
// Fonctionne comme un joker
var foo: any = 45;

function bar(a: any, b) { // b est any, car pas de déduction de type ici
	var test1: string = a;  // ok
	var test2: string = b;  // ok

	b = "foo"; // b reste any
	var test3: number = b;  // ok

	a = b; // ok
}
					</code></pre>
					</section>

					<section>
						<h2>Type Guards</h2>
					<pre><code class="javascript" data-trim contenteditable style="font-size: 18px; overflow: visible;">
function foo(x: number | string) {
	if (typeof x === "string") {
		return x.length;  // x has type string here
	}
	else {
		return x + 1;     // x has type number here
	}
}
					</code></pre>
					</section>

				</section>

				<section>
					<section>
						<h2>Classes et interfaces</h2>
						<ul>
							<li>Syntaxe ES6</li>
							<li>Les membres sont publics par défaut</li>
							<li>Les modifieurs classiques: public/private/protected et static</li>
						</ul>
						<p><em>Apporte à javsascript une approche de conception objet <i>familière</i></em></p>
					</section>

				</section>

				<section>
					<section>
						<h2>Classes</h2>
						<h3>Du sucre syntaxique sur le système objet à prototype</h3>
						<pre><code class="javascript" data-trim contenteditable style="font-size: 18px; overflow: visible;" external-src="samples/class_example.ts">
						</code></pre>
					</section>

					<section>
						<h3>Héritage</h3>
						<pre><code class="javascript" data-trim contenteditable style="font-size: 18px; overflow: visible;" external-src="samples/class_example_heritage.ts">
						</code></pre>
					</section>

					<section>
						<h3>Modifieurs d'accès</h3>
						<p>
							Les classiques: public/private/protected et static
						</p>
						<pre><code class="javascript" data-trim contenteditable style="font-size: 18px; overflow: visible;">
class Player {
	score:number = 0;

	constructor(public name:string) {
	}

	addScore(points:number) : void {
		this.score += points;
	}

	private reset() {
		this.score = 0;
	}

	static create(name:string, score:number): Player {
		var player = new Player(name);
		player.addScore(score);
		return player;
	}
}
						</code></pre>
					</section>

				</section>

				<section>
					<section>
						<h2>Les interfaces</h2>
						<ul>
							<li>Même sémantique que dans les autres langages: <em>un type abstrait qui ne contient ni données ni implémentation</em>.</li>
							<li>Particularité: Elles <u>disparaissent à la compilation</u></li>
						</ul>
					</section>

					<section>
						<h2>Vérifiés à la compilation</h2>
						<pre><code class="javascript" data-trim contenteditable style="font-size: 18px; overflow: visible;" external-src="samples/interface_example.ts">
						</code></pre>
					</section>

					<section>
						<h2>Extensions d'interface</h2>
						<pre><code class="javascript" data-trim contenteditable style="font-size: 18px; overflow: visible;" external-src="samples/interface_example_2.ts">
						</code></pre>
					</section>

					<section>
						<h2>Implémentation d'interface</h2>
						<pre><code class="javascript" data-trim contenteditable style="font-size: 18px; overflow: visible;" external-src="samples/interface_example_3.ts">
						</code></pre>
						<p> ** Tout est classique **</p>
					</section>

				</section>

				<section>
					<section>
						<h2>les fonctions <br><span style="text-decoration: line-through">"grosses flèches épaisses"</span><br>Fat Arrows</h2>
						<p>Parfois appelées pédantesquement <em>expressions lambdas</em> </p>
						<pre><code class="javascript" data-trim contenteditable style="font-size: 18px; overflow: visible;">
function divideBy2(data) {
	return data.map(function(el) {
		return el/2;
	});
}
						</code></pre>
						<p>Avec la notation ES6</p>
						<pre><code class="javascript" data-trim contenteditable style="font-size: 18px; overflow: visible;">
function divideBy2(data: number[]) {
	return data.map( (el) => el/2 );
}
						</code></pre>
					</section>

					<section>
						<h3>Corrige les problèmes de function()</h3>
						<pre><code class="javascript" data-trim contenteditable style="font-size: 18px; overflow: visible;">
function divideBy2(data: number[]) {
	return data.map( (el) => el/2 );
}

function divideBy2(data: number[]) {
	return data.map( (el) => {
		return el/2;
	});
}
						</code></pre>
						<p>Notation moins verbeuse</p>
						<p><em>this</em> n'est pas modifié</p>
						<p style="border: 4px solid #aaa; background: #555">
							Correspond mieux au fonctionnement attendu
							<br> Moins d'erreurs sur le <i>this</i>
							<br> À préférer pour les débutants
						</p>
					</section>

					<section>
						<h2>Typage des fonctions</h2>
						<pre><code class="javascript" data-trim contenteditable style="font-size: 18px; overflow: visible;" external-src="samples/lambda_example.ts">

						</code></pre>
					</section>
				</section>

				<section>
					<section>
						<h2>Génériques</h2>
						<pre><code class="javascript" data-trim contenteditable style="font-size: 18px; overflow: visible;" external-src="samples/generic_example.ts">
						</code></pre>
						<p>Permet de rajouter des contraintes supplémentaires sur le typage</p>
					</section>
					<section>
						<h2>Génériques</h2>
						<pre><code class="javascript" data-trim contenteditable style="font-size: 18px; overflow: visible;" external-src="samples/generic_example_2.ts">
						</code></pre>
						<p>Marche aussi sur les classes</p>
					</section>
				</section>


				<section>
					<h2>Fonctionnalités ES6</h2>
					<ul>
						<li>let & const</li>
						<li>Template strings `Hello ${name}`</li>
						<li>Modules ES6, commonjs, amd</li>
						<li>Decorators (annotations)</li>
						<li>Générateurs</li>
						<li>Déstructuration</li>
					</ul>
				</section>

				<section>
					<h2>Fonctionnalités non ES6</h2>
					<ul>
						<li>Support JSX</li>
						<li>Alias de types</li>
						<li>Classes et méthodes abstraites</li>
					</ul>
				</section>

				<section>
					<h2>Roadmap</h2>
					<ul>
						<li>2.0: async/await support for ES5/ES3
						</li>
						<li>1.8: détection de code impossible à atteindre, meilleures gestions des modules
						</li>
						<li>1.7: async/await pour ES6, <i>this</i> polymorphique, meilleures gestions des modules
						</li>
					</ul>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			$(function(){
				$("code").each(function(i,code) {
					var filename = $(code).attr("external-src");
					console.log("filemame", filename);
					if (filename) {
						$(code).load(filename);
					}
				});
			});
		</script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			setTimeout(function(){
				Reveal.initialize({
					controls: true,
					progress: true,
					history: true,
					center: false,

					transition: 'slide', // none/fade/slide/convex/concave/zoom

					// Optional reveal.js plugins
					dependencies: [
						{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
						{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
						{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
						{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
						{ src: 'plugin/zoom-js/zoom.js', async: true },
						{ src: 'plugin/notes/notes.js', async: true }
					]
				});
			});

		</script>



	</body>
</html>
